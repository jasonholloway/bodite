
<products>
    <div id="productFilterBar">
        <product-searchbox></product-searchbox>
        <input type="button" ng-click="products.create()" value="Create new" />
    </div>

    <product ng-repeat="p in products.filteredItems track by p._id" ng-init="product.init(p)">
        <form>            
            <div class="languages">
                <input type="button" value="Latvian" class="LV" ng-click="product.switchLanguage('LV')" />
                <input type="button" value="Russian" class="RU" ng-click="product.switchLanguage('RU')" />
            </div>
            
            <div class="names">
                <label>{{ product.labels.name }}</label>
                <input ng-model="product.working.name.LV" class="lang-switchable LV" />
                <input ng-model="product.working.name.RU" class="lang-switchable RU" />
            </div>

            <div class="description">
                <label>{{ product.labels.description }}</label>
                <textarea ng-model="product.working.description.LV" class="lang-switchable LV"></textarea>
                <textarea ng-model="product.working.description.RU" class="lang-switchable RU"></textarea>
            </div>
            
            <div class="price">
                <label>{{ product.labels.price }}</label>
                <input ng-model="product.working.price" currency-mask />
            </div>            

            <div class="categories">
                <label>Categories</label>
                <category-picker category-keys="product.working.categoryKeys"></category-picker>
            </div>

            <div class="images">
                <label>Images</label>
                <image-picker images="product.working.images"></image-picker>
            </div>

            <input type="button" ng-click="product.save()" value="Save" />
            <input type="button" ng-click="product.revert()" value="Revert" />
        </form>
    </product>


</products>
